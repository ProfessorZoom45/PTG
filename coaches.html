<!DOCTYPE html>
<html lang="en" id="top">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>D1SN — Coaches Hub</title>
<meta name="description" content="Running Late Dynasty — One long page with the full coaches directory and expandable team sections. Coaching cards, record, prestige." />
<meta name="color-scheme" content="dark" />
<link rel="canonical" href="https://professorzoom45.github.io/PTG/">

<meta property="og:type" content="website">
<meta property="og:site_name" content="Perfect Timing Gaming">
<meta property="og:title" content="D1SN — Coaches Hub (One Page)" />
<meta property="og:description" content="Owners Directory with expandable team sections. Coaching cards, record, prestige." />
<meta property="og:url" content="https://professorzoom45.github.io/PTG/">

<style>
:root{
  --bg:#0b0b0b;--card:#141414;--line:#232323;--text:#e6e6e6;--muted:#a6a6a6;
  --gold:#d5b15b;--accent:#f2d675;
  --chip:#121212;--chip-b:#2a2a2a;
  --btn-a:#1a1a1a;--btn-b:#262626;--btn-glow:#f2d67566
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
a{color:var(--gold);text-decoration:none}
h1{margin:0 0 .6rem}
p{margin:.4rem 0 .8rem}
.small{font-size:.92rem;color:#b0b0b0}
.muted{color:#a6a6a6}
.section{max-width:1200px;margin:0 auto;padding:18px 14px;scroll-margin-top:72px}
.card{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:14px}
footer{max-width:1200px;margin:12px auto 40px;padding:0 14px;color:#aaa;font-size:.9rem}

.ticker{position:sticky;top:0;z-index:999;background:linear-gradient(90deg,#121212,#181818);border-bottom:1px solid #1f1f1f}
.ticker .wrap{max-width:1200px;margin:0 auto;display:flex;align-items:center;gap:10px;padding:10px 14px;flex-wrap:wrap}
.ticker .logo-a{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:10px;background:linear-gradient(180deg,#f7e8a5,#d6b458 60%,#a3832c);color:#111;font-weight:900;letter-spacing:.6px;border:1px solid #caae51;box-shadow:0 0 0 2px #3c3210 inset, 0 2px 10px #0008}
.cta-btn{border:1px solid #3c3c3c;padding:8px 14px;border-radius:12px;color:#fff;background:linear-gradient(180deg,var(--btn-a),var(--btn-b));box-shadow:0 0 0 2px #000 inset, 0 0 18px var(--btn-glow);font-weight:800;letter-spacing:.2px}
.cta-btn:hover{filter:brightness(1.08);box-shadow:0 0 0 2px #000 inset,0 0 22px var(--btn-glow)}

.tools{display:flex;flex-wrap:wrap;gap:10px;align-items:center;margin:10px 0 18px}
.search{flex:1;min-width:220px;display:flex;gap:8px}
input[type="search"]{flex:1;padding:10px 12px;border-radius:10px;border:1px solid var(--line);background:#0f0f0f;color:#e6e6e6;outline:none}
button{padding:10px 12px;border-radius:10px;border:1px solid var(--line);background:linear-gradient(180deg,var(--btn-a),var(--btn-b));color:#fff;font-weight:800;cursor:pointer}
.chips{display:flex;gap:8px;flex-wrap:wrap}
.chip{display:inline-block;padding:8px 12px;border-radius:999px;background:var(--chip);border:1px solid var(--chip-b);color:#eaeaea;font-weight:600}
.chip[aria-pressed="true"]{outline:2px solid var(--accent)}

.table{width:100%;border-collapse:collapse}
.table th,.table td{border-bottom:1px solid #2a2a2a;padding:10px;text-align:left;vertical-align:top}
.sortable th{user-select:none;cursor:pointer}
.sortable th[aria-sort="ascending"],.sortable th[aria-sort="descending"]{color:var(--accent)}
.conf-cell{display:flex;align-items:center;gap:8px}
.conf-icon{width:22px;height:22px;object-fit:contain;border-radius:4px;border:1px solid #2a2a2a;background:#0f0f0f;padding:2px}

.team{border:1px solid var(--line);border-radius:14px;margin:14px 0;background:#111}
.team header{display:flex;gap:10px;align-items:center;justify-content:space-between;padding:12px 14px;border-bottom:1px solid #222}
.team header h3{margin:0}
.team .body{display:grid;grid-template-columns:1fr;gap:12px;padding:12px 14px}
@media(min-width:900px){.team .body{grid-template-columns:1.1fr .9fr}}
.img-frame{border:1px solid #2a2a2a;border-radius:12px;overflow:hidden;background:#0f0f0f}
.img-frame img{display:block;width:100%;height:auto}
.kv{display:grid;grid-template-columns:1fr auto;gap:10px}
.kv div{padding:10px;border-bottom:1px solid #2a2a2a}
.kv div strong{letter-spacing:.2px}

.badge{display:inline-block;border:1px solid #3a3a3a;background:#111;padding:2px 8px;border-radius:999px;font-size:.8rem;margin-left:8px}
.actions{display:flex;gap:8px;flex-wrap:wrap}
.note{font-size:.92rem;color:#b0b0b0;margin-top:6px}

.retired{opacity:.9;color:#c6c6c6;font-style:italic}
@media (max-width:640px){ .hide-sm{display:none} }
</style>
</head>
<body>

<div class="ticker" role="region" aria-label="D1SN Navigation">
  <div class="wrap">
    <a href="index.html" class="logo-a" title="Back to Main Page">D1SN</a>
    <a class="cta-btn" href="#directory">Directory</a>
    <a class="cta-btn" href="#teams">Teams (Long Page)</a>
    <a class="cta-btn" href="schedules.html">Schedules</a>
    <a class="cta-btn" href="confbatt.html">Conf Battle</a>
  </div>
</div>

<section id="directory" class="section">
  <h1>Coaches — Owners Directory <span class="small muted">(One Page Hub)</span></h1>
  <p class="small muted">Search by team, owner, or conference • Tap headers to sort • Click a row to jump to that team’s section below.</p>

  <div class="tools">
    <div class="search">
      <input id="q" type="search" placeholder="Search (team, owner, conf)… e.g., 'SEC' or 'Oregon'">
      <button id="clear">Clear</button>
    </div>
    <div class="chips" id="chips">
      <button class="chip" data-conf="ALL" aria-pressed="true">All</button>
      <button class="chip" data-conf="SEC">SEC</button>
      <button class="chip" data-conf="ACC">ACC</button>
      <button class="chip" data-conf="Big Ten">Big Ten</button>
      <button class="chip" data-conf="Big 12">Big 12</button>
    </div>
  </div>

  <div class="card">
    <table class="table sortable" id="tbl">
      <thead>
        <tr>
          <th data-key="team">Team</th>
          <th data-key="owner">Owner</th>
          <th class="hide-sm" data-key="handle">Discord</th>
          <th data-key="conf">Conference</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</section>

<section id="teams" class="section">
  <h2>Teams — Full Page Sections</h2>
  <div id="teamsWrap"></div>
</section>

<footer>© D1SN — Running Late Dynasty</footer>

<script>
/* ---------- ICONS ---------- */
const CONF_ICON = { "SEC":"sec.png", "ACC":"acc.png", "Big Ten":"big_ten.png", "Big 12":"big_12.png" };

/* ---------- CARDS (team -> image filename in /Pre2026Cs) ---------- */
/* Exact filenames from your repo (PNG; two lowercase: TAMU.png, UTAH.png) */
const CARD_FILE = {
  "Alabama":"UA.PNG",
  "Arkansas":"ARK.PNG",
  "Arizona State":"ASU.PNG",
  "Auburn":"AU.PNG",
  "Baylor":"BU.PNG",
  "BYU":"BYU.PNG",
  "Clemson":"CLEM.PNG",
  "Colorado":"CU.PNG",
  "Delaware":"UD.PNG",
  "Florida":"UF.PNG",
  "Florida State":"FSU.PNG",
  "Georgia":"UGA.PNG",
  "Illinois":"ILL.PNG",
  "LSU":"LSU.PNG",
  "Miami":"UM.PNG",
  "Michigan":"MICH.PNG",
  "Minnesota":"UMN.PNG",
  "North Carolina":"NC.PNG",
  "Notre Dame":"ND.PNG",
  "Ohio State":"OSU.PNG",
  "Oklahoma":"OK.PNG",
  "Oregon":"ORG.PNG",
  "Penn State":"PSU.PNG",
  "SMU":"SMU.PNG",
  "South Carolina":"SC.PNG",
  "Tennessee":"TENN.PNG",
  "Texas":"UT.PNG",
  "Texas A&M":"TAMU.png",
  "Texas Tech":"TTU.PNG",
  "UCLA":"UCLA.PNG",
  "USC":"USC.PNG",
  "Utah":"UTAH.png",
  "Washington":"UW.PNG",
  "Georgia Tech":"GT.PNG",
  "Ole Miss":"OLE.PNG"
};

/* ---------- DIRECTORY (custom conferences + retired handles) ---------- */
/* If a team’s user left, set handle exactly to 'retired' (no @). */
const COACHES = [
  { team: "LSU", owner: "zo0o_0om", handle: "@zo0o_0om", conf: "SEC" },
  { team: "Clemson", owner: "selfmadezay.", handle: "@selfmadezay.", conf: "ACC" },
  { team: "Arkansas", owner: "streetcammo5391", handle: "@streetcammo5391", conf: "SEC" },
  { team: "Michigan", owner: "grap.12_58536", handle: "@grap.12_58536", conf: "Big Ten" },
  { team: "Texas", owner: "i_do_dis_314", handle: "@i_do_dis_314", conf: "SEC" },
  { team: "Ohio State", owner: "shadeeliteyt", handle: "@shadeeliteyt", conf: "Big Ten" },
  { team: "Miami", owner: "imjusttoolucky", handle: "@imjusttoolucky", conf: "ACC" },
  { team: "Delaware", owner: "sweatsuitsavage9225", handle: "@sweatsuitsavage9225", conf: "Big 12" },
  { team: "Georgia", owner: "mikecmd_856", handle: "@mikecmd_856", conf: "SEC" },
  { team: "Arizona State", owner: "partymaster84", handle: "@partymaster84", conf: "Big 12" },
  { team: "Florida", owner: "lakedogg32", handle: "@lakedogg32", conf: "SEC" },
  { team: "Washington", owner: "zeeeeeeeee3", handle: "@zeeeeeeeee3", conf: "Big Ten" },
  { team: "Alabama", owner: "lejason", handle: "@lejason", conf: "SEC" },
  { team: "BYU", owner: "yungdee0354", handle: "@yungdee0354", conf: "Big 12" },
  { team: "Oklahoma", owner: "illecill", handle: "@illecill", conf: "SEC" },
  { team: "Florida State", owner: "allstarcowboy254._84024", handle: "@allstarcowboy254._84024", conf: "ACC" },
  { team: "Notre Dame", owner: "cjjman36", handle: "@cjjman36", conf: "ACC" },
  { team: "South Carolina", owner: "ulost2sway", handle: "@ulost2sway", conf: "SEC" },
  { team: "Illinois", owner: "merzqcg", handle: "@merzqcg", conf: "Big Ten" },
  { team: "USC", owner: "flyguy3x", handle: "@flyguy3x", conf: "Big Ten" },
  { team: "Texas Tech", owner: "zig8875", handle: "@zig8875", conf: "Big 12" },
  { team: "Colorado", owner: "phreshttv", handle: "@phreshttv", conf: "Big 12" },
  { team: "Texas A&M", owner: "dabears7712", handle: "@dabears7712", conf: "SEC" },
  { team: "Penn State", owner: "jrob9179", handle: "@jrob9179", conf: "Big Ten" },
  { team: "Tennessee", owner: "cordfollowing9275", handle: "@cordfollowing9275", conf: "SEC" },
  { team: "North Carolina", owner: "papishome69", handle: "@papishome69", conf: "ACC" },
  { team: "Auburn", owner: "slimxxiv", handle: "@slimxxiv", conf: "SEC" },
  { team: "SMU", owner: "superhb", handle: "@superhb", conf: "ACC" },
  { team: "UCLA", owner: "dawgpd_31", handle: "@dawgpd_31", conf: "Big Ten" },
  { team: "Oregon", owner: "patriot_eye", handle: "@patriot_eye", conf: "Big Ten" },
  { team: "Georgia Tech", owner: "banjax4419", handle: "@banjax4419", conf: "ACC" },
  { team: "Minnesota", owner: "partymaster84", handle: "@partymaster84", conf: "Big Ten" },
  { team: "Baylor", owner: "—", handle: "retired", conf: "SEC" },   /* moved to SEC */
  { team: "Utah", owner: "—", handle: "retired", conf: "Big 12" },  /* moved to Big 12 */
  { team: "Ole Miss", owner: "tokenjay", handle: "@tokenjay", conf: "SEC" }
];

/* ---------- Optional Polls (example) ---------- */
const POLLS = {
  "Alabama": { media: 10, coaches: 10 }
};

/* ---------- COACH STATS (from the cards) ---------- */
const COACH_STATS = {
  /* SEC */
  "Alabama": { coach:"William Rice", prestige:"A-", level:"LVL 25 — Recruiter",
    off:"Power Spread", def:"Multiple Defense", alma:"Clemson",
    record:"10-3", rivals:"2-1", bowl:"0-1", top25:"4-3" },
  "Arkansas": {
    coach:"Street Cammo", prestige:"A", level:"LVL 15 — Recruiter",
    off:"Multiple Offense", def:"Multiple Defense", alma:"Arkansas",
    record:"10-3", rivals:"3-1", bowl:"1-0", top25:"3-3"
  },
  "Baylor": {
    coach:"Bear Ball", prestige:"C+", level:"LVL 17 — Tactician",
    off:"Spread", def:"4-2-5", alma:"Alabama",
    record:"8-2", rivals:"1-0", bowl:"0-1", top25:"0-2"
  },
  "Florida": { coach:"Quaxx Raxx", prestige:"C+", level:"LVL 14 — Motivator",
    off:"Power Spread", def:"3-3-5 Tite", alma:"Florida",
    record:"8-5", rivals:"2-3", bowl:"1-0", top25:"0-4" },
  "Georgia": { coach:"AJ Green", prestige:"A+", level:"LVL 19 — Recruiter",
    off:"Multiple Offense", def:"3-3-5 Tite", alma:"Georgia",
    record:"12-2", rivals:"4-0", bowl:"0-1", top25:"4-2" },
  "LSU": { coach:"ZZZOOM Reese", prestige:"A", level:"LVL 22 — Motivator",
    off:"Power Spread", def:"4-2-5", alma:"Buffalo",
    record:"11-2", rivals:"4-1", bowl:"1-0", top25:"6-2" },
  "Ole Miss": { coach:"Token Jay", prestige:"C-", level:"LVL 1 — Recruiter",
    off:"Spread", def:"4-2-5", alma:"Ole Miss",
    record:"0-0", rivals:"0-0", bowl:"0-0", top25:"0-0" },
  "South Carolina": { coach:"Free Of", prestige:"A", level:"LVL 16 — Recruiter",
    off:"Power Spread", def:"4-2-5", alma:"Air Force",
    record:"12-2", rivals:"3-1", bowl:"1-1", top25:"6-2" },
  "Tennessee": { coach:"James", prestige:"D+", level:"LVL 7 — Recruiter",
    off:"Veer and Shoot", def:"3-3-5 Tite", alma:"Florida",
    record:"1-0", rivals:"0-0", bowl:"1-0", top25:"1-0" },
  "Texas": { coach:"Mike Wilson", prestige:"A", level:"LVL 21 — Recruiter",
    off:"Spread", def:"4-3 Multiple", alma:"Texas",
    record:"13-3", rivals:"3-0", bowl:"2-1", top25:"7-3" },
  "Texas A&M": { coach:"Al Ways-Becrootin", prestige:"C-", level:"LVL 1 — Recruiter",
    off:"Power Spread", def:"4-2-5", alma:"Air Force",
    record:"0-0", rivals:"0-0", bowl:"0-0", top25:"0-0" },
  "Auburn": { coach:"Wes Henry", prestige:"C-", level:"LVL 2 — Tactician",
    off:"Multiple Offense", def:"3-3-5 Tite", alma:"Air Force",
    record:"0-0", rivals:"0-0", bowl:"0-0", top25:"0-0" },

  /* ACC (+ ND in ACC) */
  "Clemson": { coach:"Westside Isiah", prestige:"C+", level:"LVL 26 — Tactician",
    off:"Air Raid", def:"Multiple Defense", alma:"Miami",
    record:"9-4", rivals:"3-1", bowl:"1-0", top25:"1-3" },
  "Florida State": { coach:"Smokey Lowkey De Bluntxzynez", prestige:"C+", level:"LVL 16 — Recruiter",
    off:"Multiple Offense", def:"Multiple Defense", alma:"North Texas",
    record:"8-5", rivals:"0-3", bowl:"1-0", top25:"0-3" },
  "Georgia Tech": { coach:"Riley Brown", prestige:"C-", level:"LVL 2 — Motivator",
    off:"Power Spread", def:"4-3 Multiple", alma:"Georgia Southern",
    record:"1-0", rivals:"0-0", bowl:"0-0", top25:"0-0" },
  "Miami": { coach:"Lucky Day", prestige:"A", level:"LVL 15 — Recruiter",
    off:"Spread", def:"3-3-5", alma:"Cincinnati",
    record:"12-3", rivals:"3-0", bowl:"1-1", top25:"5-2" },
  "North Carolina": { coach:"Tweety Bird VIII", prestige:"C-", level:"LVL 2 — Motivator",
    off:"Veer and Shoot", def:"Multiple Defense", alma:"Mississippi State",
    record:"0-1", rivals:"0-0", bowl:"0-0", top25:"0-1" },
  "Notre Dame": { coach:"Marco Freeman", prestige:"A+", level:"LVL 17 — Recruiter",
    off:"Power Spread", def:"3-3-5 Tite", alma:"Notre Dame",
    record:"12-1", rivals:"6-0", bowl:"1-0", top25:"2-1" },
  "SMU": { coach:"The Dude", prestige:"A-", level:"LVL 17 — Recruiter",
    off:"Spread", def:"4-2-5", alma:"Air Force",
    record:"11-2", rivals:"1-0", bowl:"0-1", top25:"1-2" },

  /* Big Ten */
  "Illinois": { coach:"Merz Frazier", prestige:"C+", level:"LVL 12 — Recruiter",
    off:"Multiple Offense", def:"3-3-5 Tite", alma:"Buffalo",
    record:"8-4", rivals:"2-1", bowl:"0-0", top25:"1-3" },
  "Michigan": { coach:"Carl Knight", prestige:"C+", level:"LVL 16 — Recruiter",
    off:"Multiple Offense", def:"3-4 Multiple", alma:"Michigan",
    record:"9-4", rivals:"2-1", bowl:"0-1", top25:"1-2" },
  "Ohio State": { coach:"Michael Williams", prestige:"A+", level:"LVL 22 — Recruiter",
    off:"Spread", def:"4-2-5", alma:"North Carolina",
    record:"15-1", rivals:"3-0", bowl:"2-1", top25:"7-1" },
  "Oregon": { coach:"Mr Ben", prestige:"C-", level:"LVL 4 — Motivator",
    off:"Power Spread", def:"4-2-5", alma:"Louisville",
    record:"1-0", rivals:"1-0", bowl:"0-0", top25:"0-0" },
  "Penn State": { coach:"Eric Taylor", prestige:"C", level:"LVL 13 — Recruiter",
    off:"Power Spread", def:"4-2-5", alma:"SMU",
    record:"4-2", rivals:"1-1", bowl:"1-0", top25:"0-2" },
  "UCLA": { coach:"Al Ways-Becrootin", prestige:"C-", level:"LVL 1 — Recruiter",
    off:"Spread", def:"4-3 Multiple", alma:"Air Force",
    record:"0-0", rivals:"0-0", bowl:"0-0", top25:"0-0" },
  "USC": { coach:"Tay Ski", prestige:"A-", level:"LVL 15 — Recruiter",
    off:"Power Spread", def:"Multiple Defense", alma:"USC",
    record:"11-3", rivals:"1-1", bowl:"0-1", top25:"3-3" },
  "Washington": { coach:"Zee Juan", prestige:"B", level:"LVL 16 — Tactician",
    off:"Multiple Offense", def:"4-2-5", alma:"Washington",
    record:"10-3", rivals:"1-1", bowl:"0-1", top25:"1-3" },
  "Minnesota": { coach:"Jay Hibbs", prestige:"C-", level:"LVL 6 — Recruiter",
    off:"Multiple Offense", def:"4-3 Multiple", alma:"Minnesota",
    record:"0-0", rivals:"0-0", bowl:"0-0", top25:"0-0" },

  /* Big 12 (custom: includes Utah) */
  "Arizona State": { coach:"Ball Oholic", prestige:"C+", level:"LVL 20 — Recruiter",
    off:"Multiple Offense", def:"4-2-5", alma:"Air Force",
    record:"8-5", rivals:"1-0", bowl:"1-0", top25:"1-1" },
  "BYU": { coach:"Yung Dee", prestige:"A", level:"LVL 23 — Recruiter",
    off:"Power Spread", def:"Multiple Defense", alma:"Alabama",
    record:"13-1", rivals:"1-0", bowl:"0-1", top25:"2-1" },
  "Colorado": { coach:"Coach Prime", prestige:"C+", level:"LVL 10 — Motivator",
    off:"Spread", def:"4-2-5", alma:"Florida State",
    record:"7-4", rivals:"1-0", bowl:"0-1", top25:"1-1" },
  "Delaware": { coach:"Big Trigga", prestige:"B", level:"LVL 13 — Recruiter",
    off:"Spread", def:"3-3-5", alma:"Temple",
    record:"11-3", rivals:"0-0", bowl:"0-1", top25:"0-1" },
  "Texas Tech": { coach:"Harry Johnson", prestige:"B", level:"LVL 19 — Recruiter",
    off:"Multiple Offense", def:"Multiple Defense", alma:"Texas Tech",
    record:"11-2", rivals:"1-0", bowl:"1-0", top25:"0-1" },
  "Utah": { coach:"Tweety Birrd II", prestige:"C-", level:"LVL 1 — Motivator",
    off:"Veer and Shoot", def:"4-2-5", alma:"Utah",
    record:"0-0", rivals:"0-0", bowl:"0-0", top25:"0-0" },

  /* SEC team that moved in your setup */
  "Oklahoma": { coach:"Matt Williams", prestige:"C+", level:"LVL 14 — Recruiter",
    off:"Power Spread", def:"4-3 Multiple", alma:"Texas",
    record:"7-6", rivals:"0-2", bowl:"1-0", top25:"2-5" }
};

/* ---------- HELPERS ---------- */
const slug = t => t.toLowerCase().replace(/[^a-z0-9]+/g,'-').replace(/(^-|-$)/g,'');
const cardSrcFor = (team) => CARD_FILE[team] ? `Pre2026Cs/${CARD_FILE[team]}` : null;

/* ---------- DIRECTORY TABLE ---------- */
const tblBody = document.querySelector('#tbl tbody');
const q = document.getElementById('q');
const clearBtn = document.getElementById('clear');
let state = { sortKey: 'team', dir: 1, conf: 'ALL', query: '' };

function renderTable(){
  tblBody.innerHTML='';
  const rows = COACHES
    .filter(r => state.conf==='ALL' || r.conf===state.conf)
    .filter(r => (r.team + ' ' + r.owner + ' ' + r.handle + ' ' + r.conf).toLowerCase().includes(state.query.toLowerCase()))
    .sort((a,b)=>{
      const ka=(''+a[state.sortKey]).toLowerCase(), kb=(''+b[state.sortKey]).toLowerCase();
      return (ka<kb?-1:ka>kb?1:0)*(state.dir);
    });

  rows.forEach(r=>{
    const icon = CONF_ICON[r.conf] ? `<img class="conf-icon" src="${CONF_ICON[r.conf]}" alt="${r.conf} icon" loading="lazy">` : '';
    const retired = r.handle === 'retired' ? 'retired' : r.handle;
    const retiredClass = r.handle === 'retired' ? 'retired' : '';
    const tr=document.createElement('tr');
    tr.innerHTML = `
      <td><a href="#team-${slug(r.team)}"><strong>${r.team}</strong></a></td>
      <td>${r.owner}</td>
      <td class="hide-sm ${retiredClass}">${retired}</td>
      <td class="conf-cell">${icon}<span>${r.conf}</span></td>`;
    tr.addEventListener('click',()=>location.hash=`team-${slug(r.team)}`);
    tblBody.appendChild(tr);
  });
}
document.querySelectorAll('#tbl thead th[data-key]').forEach(th=>{
  th.setAttribute('aria-sort','none'); th.tabIndex=0;
  th.addEventListener('keydown',e=>{ if(e.key==='Enter'||e.key===' ') { e.preventDefault(); th.click(); } });
  th.addEventListener('click',()=>{
    const key=th.dataset.key;
    state.dir = (state.sortKey===key ? -state.dir : 1);
    state.sortKey = key;
    document.querySelectorAll('#tbl thead th').forEach(x=>x.setAttribute('aria-sort','none'));
    th.setAttribute('aria-sort', state.dir===1?'ascending':'descending');
    renderTable();
  });
});
q.addEventListener('input', ()=>{ state.query=q.value; renderTable(); });
clearBtn.addEventListener('click', ()=>{ q.value=''; state.query=''; renderTable(); q.focus(); });
document.querySelectorAll('#chips .chip').forEach(btn=>{
  btn.addEventListener('click',()=>{
    document.querySelectorAll('#chips .chip').forEach(b=>b.setAttribute('aria-pressed','false'));
    btn.setAttribute('aria-pressed','true');
    state.conf = btn.dataset.conf;
    renderTable();
  });
});

/* ---------- TEAM SECTIONS ---------- */
const teamsWrap = document.getElementById('teamsWrap');
function buildTeams(){
  teamsWrap.innerHTML='';
  COACHES.forEach(c=>{
    const id = `team-${slug(c.team)}`;
    const card = cardSrcFor(c.team);
    const s = COACH_STATS[c.team] || {};
    const poll = POLLS[c.team] || {};
    const confIcon = CONF_ICON[c.conf] ? `<img class="conf-icon" src="${CONF_ICON[c.conf]}" alt="${c.conf} icon" loading="lazy">` : '';

    const retiredNote = (c.handle==='retired')
      ? `<div class="note retired">This program’s previous user retired (no Discord handle).</div>`
      : '';

    const root = document.createElement('article');
    root.className='team';
    root.id = id;
    root.innerHTML = `
      <header>
        <h3>${c.team} <span class="badge">User Team</span></h3>
        <div class="actions">
          <a class="cta-btn" href="#top">Back to Top</a>
        </div>
      </header>
      <div class="body">
        <div>
          <h4>Coaching Card</h4>
          <div class="img-frame">
            ${card ? `<img src="${card}" alt="${c.team} Coaching Card" loading="lazy">`
                   : `<div style="padding:24px" class="small muted">No card uploaded for <strong>${c.team}</strong>.</div>`}
          </div>
        </div>
        <div class="card">
          <h4>Team / Coach Details</h4>
          <div class="kv">
            <div><strong>Owner / Coach</strong></div><div>${c.owner} <span class="small muted">(${c.handle})</span></div>
            <div><strong>Conference</strong></div><div class="conf-cell">${confIcon}<span>${c.conf}</span></div>
            <div><strong>Coach Name</strong></div><div>${s.coach || "—"}</div>
            <div><strong>Prestige</strong></div><div>${s.prestige || "—"}</div>
            <div><strong>Level & Archetype</strong></div><div>${s.level || "—"}</div>
            <div><strong>Off. Scheme</strong></div><div>${s.off || "—"}</div>
            <div><strong>Def. Scheme</strong></div><div>${s.def || "—"}</div>
            <div><strong>Alma Mater</strong></div><div>${s.alma || "—"}</div>
            <div><strong>Overall Record</strong></div><div>${s.record || "—"}</div>
            <div><strong>Record vs Rivals</strong></div><div>${s.rivals || "—"}</div>
            <div><strong>Bowl Record</strong></div><div>${s.bowl || "—"}</div>
            <div><strong>Record vs Top 25</strong></div><div>${s.top25 || "—"}</div>
            <div><strong>Top-25 (Media)</strong></div><div>${poll.media ? "#"+poll.media : "—"}</div>
            <div><strong>Top-25 (Coaches)</strong></div><div>${poll.coaches ? "#"+poll.coaches : "—"}</div>
          </div>
          ${retiredNote}
        </div>
      </div>
    `;
    teamsWrap.appendChild(root);
  });
}

/* ---------- INIT ---------- */
renderTable();
buildTeams();
</script>
</body>
</html>
