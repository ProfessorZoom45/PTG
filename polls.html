<!DOCTYPE html>
<html lang="en" id="top">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>D1SN — Polls & Power Index (Top-25 as of Week 7 start)</title>
<meta name="description" content="Media & Coaches Top-25 at the start of Week 7 (after Week 6 results). Power Index (users only). Former users labeled separately. Constants are exported for index.html." />
<meta name="color-scheme" content="dark" />
<link rel="canonical" href="index.html" />

<style>
:root{
  --bg:#0b0b0b;--card:#141414;--line:#232323;--text:#e6e6e6;--muted:#a6a6a6;
  --gold:#d5b15b;--silver:#c0c0c0;--bronze:#cd7f32;--accent:#f2d675;
  --user:#66e3ff;--former:#ffb366;
  --btn-a:#1a1a1a;--btn-b:#262626;--btn-glow:#f2d67566;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
a{color:var(--accent);text-decoration:none}
.section{max-width:1100px;margin:0 auto;padding:18px 14px}
.card{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:14px}
h1,h2{margin:.2rem 0 .6rem}
.small{color:var(--muted);font-size:.92rem}
.table{width:100%;border-collapse:collapse}
.table th,.table td{border-bottom:1px solid #2a2a2a;padding:8px 10px;text-align:left}
.gold{color:var(--gold);font-weight:900}
.silver{color:var(--silver);font-weight:900}
.bronze{color:var(--bronze);font-weight:900}
.badge{display:inline-block;border:1px solid #3a3a3a;background:#111;padding:2px 8px;border-radius:999px;font-size:.78rem;margin-left:8px}
.ubadge{display:inline-block;margin-left:6px;padding:1px 6px;border-radius:999px;border:1px solid #2b2b2b;background:#0e0e0e;font-size:.72rem;letter-spacing:.2px}
.ubadge.user{border-color:#2a3a44;color:var(--user)}
.legend{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.legend span{display:inline-flex;align-items:center;gap:6px}

/* Ticker */
.ticker{position:sticky;top:0;z-index:9;background:linear-gradient(90deg,#121212,#181818);border-bottom:1px solid #1f1f1f}
.ticker .wrap{max-width:1100px;margin:0 auto;display:flex;align-items:center;gap:10px;padding:10px 14px}
.logo-a{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:10px;background:linear-gradient(180deg,#f7e8a5,#d6b458 60%,#a3832c);color:#111;font-weight:900;letter-spacing:.6px;border:1px solid #caae51;box-shadow:0 0 0 2px #3c3210 inset, 0 2px 10px #0008}
.ticker .track{overflow:hidden;flex:1;min-width:260px}
.ticker .row{display:inline-flex;gap:28px;align-items:center;white-space:nowrap;animation:marquee 28s linear infinite}
.ticker .row>*{font-weight:900;letter-spacing:.3px;position:relative;padding-right:36px;margin-right:36px}
.ticker .row>*::after{content:"";position:absolute;right:8px;top:50%;transform:translateY(-50%);width:6px;height:22px;background:linear-gradient(180deg,#f7e8a5,#d6b458 60%,#a3832c);border-radius:3px}
@keyframes marquee{from{transform:translateX(0)} to{transform:translateX(-50%)}}
@media (max-width:560px){ .ticker .row>*{padding-right:20px;margin-right:20px} }
</style>
</head>
<body>

<!-- Sticky header + Top-10 ticker -->
<div class="ticker" role="region" aria-label="D1SN Top-10 Ticker">
  <div class="wrap">
    <!-- Back to index page (top-left) -->
    <a href="index.html" class="logo-a" title="Back to Index">D1SN</a>
    <div class="track"><div class="row" id="tickerRow"></div></div>
  </div>
</div>

<section class="section">
  <h1>Polls & Power Index</h1>
  <p class="small legend">
    <span><strong>Snapshot:</strong> Top-25 polls are from <strong>start of Week 7</strong> (after Week 6 results).</span>
    <span><span class="ubadge user">USER</span> = active user team</span>
  </p>
</section>

<section class="section" id="power">
  <h2>Power Index <span class="badge">Users Only</span></h2>
  <div class="card">
    <table class="table" id="powerTable">
      <thead><tr><th>#</th><th>Team</th><th>Rating</th><th>Record</th></tr></thead>
      <tbody id="powerBody"></tbody>
    </table>
  </div>
</section>

<section class="section" id="combined">
  <h2>Top-25 — Combined (Media + Coaches)</h2>
  <div class="card">
    <p class="small">Ranks shown are each poll’s slot; NR = 26. This page reflects the polls listed above.</p>
    <table class="table" id="comboTable">
      <thead>
        <tr><th>#</th><th>Team</th><th>Media</th><th>Coaches</th><th>Record</th></tr>
      </thead>
      <tbody id="comboBody"></tbody>
    </table>
  </div>
</section>

<footer>© D1SN — Running Late Dynasty</footer>

<!-- ===================== REQUIRED CONSTANTS (do not rename) ===================== -->
<script>
/* Active users: add Ole Miss, Georgia Tech, Oregon. Former users (left): Minnesota & Utah (W3), USC (W5), Oklahoma (W6). */
const ACTIVE_USERS = new Set([
  "Alabama","Arizona State","Arkansas","Auburn","BYU","Clemson","Colorado","Delaware","Florida","Florida State",
  "Georgia","Georgia Tech","Illinois","LSU","Michigan","Miami","North Carolina","Notre Dame","Ohio State",
  "Oregon","Ole Miss","Penn State","SMU","South Carolina","Tennessee","Texas","Texas A&M","Texas Tech","UCLA","Washington"
]);

/* Week 7 start — MEDIA poll: [rank, "Team", points] */
const MEDIA_POLL = [
  [1,"Miami",1604],[2,"Penn State",1496],[3,"Alabama",1453],[4,"Ohio State",1357],[5,"Washington",1225],
  [6,"Texas",1152],[7,"South Carolina",1101],[8,"LSU",1100],[9,"North Carolina",1049],[10,"Texas Tech",999],
  [11,"Michigan",936],[12,"Delaware",854],[13,"BYU",812],[14,"SMU",712],[15,"Florida State",694],
  [16,"Florida",528],[17,"Colorado",534],[18,"Georgia",522],[19,"Minnesota",483],[20,"Clemson",405],
  [21,"Notre Dame",362],[22,"Arkansas",367],[23,"Louisiana",348],[24,"Cincinnati",261],[25,"Auburn",234]
];

/* Week 7 start — COACHES poll: [rank, "Team", points] */
const COACHES_POLL = [
  [1,"Miami",1518],[2,"Alabama",1361],[3,"Ohio State",1320],[4,"Penn State",1313],[5,"Texas",1109],
  [6,"Washington",1093],[7,"South Carolina",1057],[8,"Michigan",1045],[9,"North Carolina",958],[10,"LSU",921],
  [11,"Texas Tech",826],[12,"Delaware",723],[13,"SMU",676],[14,"Florida State",618],[15,"BYU",618],
  [16,"Colorado",549],[17,"Florida",528],[18,"Georgia",482],[19,"Minnesota",469],[20,"Clemson",364],
  [21,"Notre Dame",362],[22,"Arkansas",327],[23,"Louisiana",297],[24,"Florida Atlantic",217],[25,"Auburn",209]
];

/* Required game result constants (names + shapes must match) */
const WEEK5_RESULTS = [
  {away:"Purdue",a:0,home:"Washington",h:49},
  {away:"North Carolina",a:45,home:"Notre Dame",h:20},
  {away:"Oklahoma State",a:24,home:"Texas Tech",h:38},
  {away:"SMU",a:41,home:"Louisville",h:10},
  {away:"Georgia Tech",a:22,home:"Miami",h:48},
  {away:"Tennessee",a:14,home:"Syracuse",h:21},
  {away:"Kansas State",a:7,home:"BYU",h:63}
];

const WEEK6_RESULTS = [
  {away:"Washington",a:49,home:"Indiana",h:7},
  {away:"Virginia",a:42,home:"North Carolina",h:35},
  {away:"Tennessee",a:23,home:"Kentucky",h:33},
  {away:"Texas Tech",a:35,home:"UCF",h:24},
  {away:"Minnesota",a:11,home:"Michigan",h:17},
  {away:"Notre Dame",a:21,home:"Miami",h:42},
  {away:"LSU",a:40,home:"Vanderbilt",h:15},
  {away:"Georgia Tech",a:34,home:"Duke",h:3},
  {away:"Louisville",a:3,home:"Florida State",h:31},
  {away:"California",a:20,home:"Clemson",h:25},
  {away:"Utah",a:2,home:"BYU",h:65},
  {away:"Auburn",a:35,home:"Arkansas",h:38}
];
</script>
<!-- ===================== PAGE LOGIC (safe to change) ===================== -->
<script>
/* If index.html needs only the constants above, it can ignore everything below.
   We still render a simple view (and a Top-10 ticker) for convenience.
*/

/* Minimal prior weeks for records/PI (Weeks 0–4) — already defined in index.html;
   we only compute records from Week5 & Week6 here to avoid duplication. */
function computeRecordsFromProvidedWeeks(){
  const m=new Map();
  function add(team,win){ const r=m.get(team)||{w:0,l:0}; win? r.w++ : r.l++; m.set(team,r); }
  const games=[...WEEK5_RESULTS,...WEEK6_RESULTS];
  games.forEach(g=>{
    const awayWon = g.a>g.h;
    add(g.away, awayWon);
    add(g.home, !awayWon);
  });
  return m;
}

/* Simple Elo using only provided weeks (index.html can override with full history) */
function computePowerIndex(){
  const K=24, R=new Map(), rec=computeRecordsFromProvidedWeeks();
  const teams = Array.from(ACTIVE_USERS);
  teams.forEach(t=>R.set(t,1500));
  const games=[...WEEK5_RESULTS,...WEEK6_RESULTS];
  games.forEach(g=>{
    const Ra=R.get(g.away)??1500, Rb=R.get(g.home)??1500, Sa=g.a>g.h?1:0, Sb=1-Sa;
    const Ea=1/(1+10**((Rb-Ra)/400)), Eb=1-Ea;
    const margin=Math.max(1, Math.log1p(Math.abs(g.a-g.h))/0.7);
    R.set(g.away, Ra + K*margin*(Sa-Ea));
    R.set(g.home, Rb + K*margin*(Sb-Eb));
  });
  return teams.map(t=>({
    t, r:Math.round(R.get(t)??1500), w:(rec.get(t)?.w||0), l:(rec.get(t)?.l||0)
  })).sort((a,b)=>b.r-a.r);
}

/* Combine polls for display + ticker */
function computeCombined(){
  const m=new Map(MEDIA_POLL.map(([rk,t,pts])=>[t,{rk,pts}]));
  const c=new Map(COACHES_POLL.map(([rk,t,pts])=>[t,{rk,pts}]));
  const teams=new Set([...m.keys(),...c.keys()]);
  const rec=computeRecordsFromProvidedWeeks();
  return [...teams].map(t=>{
    const mr=m.get(t)?.rk??26, cr=c.get(t)?.rk??26;
    const mp=m.get(t)?.pts??0,  cp=c.get(t)?.pts??0;
    const avg=(mr+cr)/2;
    return {t, mr, cr, mp, cp, avg, rec:`${rec.get(t)?.w||0}-${rec.get(t)?.l||0}`};
  }).sort((a,b)=>a.avg-b.avg || (b.mp+b.cp)-(a.mp+a.cp));
}

/* Render tables */
function render(){
  // ticker
  const top10=computeCombined().slice(0,10).map((x,i)=>{
    const cls=i===0?'gold':i===1?'silver':i===2?'bronze':'';
    return `<span class="${cls}">#${i+1} ${x.t}</span>`;
  }).join('');
  document.getElementById('tickerRow').innerHTML = top10 + top10;

  // power index
  const pi=computePowerIndex();
  document.getElementById('powerBody').innerHTML = pi.map((x,i)=>{
    const cls=i===0?'gold':i===1?'silver':i===2?'bronze':'';
    const name = ACTIVE_USERS.has(x.t) ? `<strong>${x.t}</strong>` : x.t;
    return `<tr><td>${i+1}</td><td class="${cls}">${name}</td><td>${x.r}</td><td>${x.w}-${x.l}</td></tr>`;
  }).join('');

  // combined
  const combo=computeCombined();
  document.getElementById('comboBody').innerHTML = combo.map((x,i)=>{
    const cls=i===0?'gold':i===1?'silver':i===2?'bronze':'';
    const name = ACTIVE_USERS.has(x.t) ? `<strong>${x.t}</strong>` : x.t;
    const mTxt=x.mr<=25?`#${x.mr} (${x.mp})`:'NR';
    const cTxt=x.cr<=25?`#${x.cr} (${x.cp})`:'NR';
    return `<tr><td>${i+1}</td><td class="${cls}">${name}</td><td>${mTxt}</td><td>${cTxt}</td><td>${x.rec}</td></tr>`;
  }).join('');
}
document.addEventListener('DOMContentLoaded', render);
</script>
</body>
</html>
